<GuiXml>
    <Font name="ZoFontGameShadow" font="$(BOLD_FONT)|$(KB_18)|soft-shadow-thin"/>
    <Controls>
        <TopLevelControl name="GrindTimerWindow" hidden="false" inheritAlpha="false" mouseEnabled="true" movable="true" clampedToScreen="true" layer="0">
            <Dimensions x="385" y="75"/>
            <Anchor point="TOPLEFT" relativeTo="GuiRoot" relativePoint="TOPLEFT" offsetX="400" offsetY="100"/>
            <OnMoveStop>
                GrindTimer.SaveWindowPosition(self)
            </OnMoveStop>
            <OnShow>
                GrindTimer.OnWindowShown()
            </OnShow>
            <OnUpdate>
                GrindTimer.TimedUpdate()
            </OnUpdate>

            <Controls>
                <Backdrop name="$(parent)Backdrop" inherits="ZO_DefaultBackdrop"/>

                <Button name="$(parent)LockButton" inheritAlpha="false">
                    <Dimensions x="20" y="20"/>
                    <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="-15" offsetY="55"/>
                    <Textures normal="esoui/art/miscellaneous/unlocked_up.dds" mouseOver="esoui/art/miscellaneous/unlocked_over.dds" pressed="esoui/art/miscellaneous/locked_up.dds" pressedMouseOver="esoui/art/miscellaneous/locked_over.dds"/>
                    <OnClicked>
                        GrindTimer.ToggleWindowLock(self)
                    </OnClicked>
                </Button>

                <Label name="$(parent)FirstMetricLabel" width="325" height="25" inheritAlpha="false" font="ZoFontGameShadow" color="A8A8A8" wrapMode="TRUNCATE" verticalAlignment="TOP" horizontalAlignment="CENTER" mouseEnabled="true" text="0 Hours 0 Minutes estimated until level up">
                    <Anchor point="TOP" relativeTo="$(parent)" relativePoint="TOP"/>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 0, true)
                    </OnInitialized>
                </Label>

                <Label name="$(parent)SecondMetricLabel" width="325" height="25" inheritAlpha="false" font="ZoFontGameShadow" color="A8A8A8" wrapMode="TRUNCATE" verticalAlignment="BOTTOM" horizontalAlignment="CENTER" mouseEnabled="true" text="0 Experience needed until level 0">
                    <Anchor point="TOP" relativeTo="$(parent)" relativePoint="TOP" offsetY="25"/>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 0, true)
                    </OnInitialized>
                </Label>

                <Texture name="$(parent)TopDivider" inheritAlpha="false" textureFile="/esoui/art/miscellaneous/horizontaldivider.dds" tier="HIGH">
                    <Dimensions x="500" y="5"/>
                    <Anchor point="TOP" relativeTo="$(parent)" relativePoint="TOP" offsetY="49"/>
                </Texture>

                <!-- Mode Controls -->
                <Label name="$(parent)ModeLabel" width="25" height="25" inheritAlpha="false" hidden="true" font="ZoFontGameShadow" color="A8A8A8" verticalAlignment="TOP" horizontalAlignment="LEFT" text="Mode">
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT"  offsetX="10" offsetY="50"/>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Label>

                <Button name="$(parent)NextModeButton" inheritAlpha="false" hidden="true" font="ZoFontGameShadow" color="808080" verticalAlignment="TOP" horizontalAlignment="LEFT" inherits="ZO_ButtonBehaviorClickSound" buttonState="BSTATE_PRESSED" text="Next Level">
                    <Dimensions x="100" y="25"/>
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="10" offsetY="75"/>
                    <FontColors disabledColor="808080" mouseOverColor="FFFFFF" pressedColor="FFFFFF" normalColor="808080"/>
                    <OnClicked>
                        GrindTimer.NextModeButtonClicked(self)
                    </OnClicked>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Button>

                <Button name="$(parent)TargetModeButton" inheritAlpha="false" hidden="true" font="ZoFontGameShadow" inherits="ZO_ButtonBehaviorClickSound" color="808080" verticalAlignment="TOP" horizontalAlignment="LEFT" text="Target Level">
                    <Dimensions x="100" y="25"/>
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="10" offsetY="100"/>
                    <FontColors disabledColor="808080" mouseOverColor="FFFFFF" pressedColor="FFFFFF" normalColor="808080"/>
                    <OnClicked>
                        GrindTimer.TargetModeButtonClicked(self)
                    </OnClicked>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Button>

                <!-- Level Type Controls -->
                <Label name="$(parent)LevelTypeLabel" width="25" height="25" inheritAlpha="false" hidden="true" font="ZoFontGameShadow" color="A8A8A8" verticalAlignment="TOP" horizontalAlignment="LEFT" text="Level Type">
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="120" offsetY="50"/>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Label>

                <Button name="$(parent)NormalTypeButton" inheritAlpha="false" hidden="true" font="ZoFontGameShadow" inherits="ZO_ButtonBehaviorClickSound" verticalAlignment="TOP" horizontalAlignment="LEFT" text="Normal">
                    <Dimensions x="100" y="25"/>
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="120" offsetY="75"/>
                    <FontColors disabledColor="808080" mouseOverColor="FFFFFF" pressedColor="FFFFFF" normalColor="808080"/>
                    <OnClicked>
                        GrindTimer.NormalTypeButtonClicked(self)
                    </OnClicked>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Button>

                <Button name="$(parent)ChampionTypeButton" inheritAlpha="false" hidden="true" inherits="ZO_ButtonBehaviorClickSound" font="ZoFontGameShadow" color="808080" verticalAlignment="TOP" horizontalAlignment="LEFT" text="Champion">
                    <Dimensions x="100" y="25"/>
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="120" offsetY="100"/>
                    <FontColors disabledColor="808080" mouseOverColor="FFFFFF" pressedColor="FFFFFF" normalColor="808080"/>
                    <OnClicked>
                        GrindTimer.ChampionTypeButtonClicked(self)
                    </OnClicked>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Button>
                
                <!-- Level TextBox Controls -->
                <Label name="$(parent)LevelTextBoxLabel" inheritAlpha="false" hidden="true" height="25" font="ZoFontGameShadow" color="A8A8A8" text="Level">
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="235" offsetY="80"/>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Label>

                <EditBox name="$(parent)LevelTextBox" inheritAlpha="false" hidden="true" font="ZoFontGameShadow" color="1E90FF" editEnabled="true" horizontalAlignment="2" verticalAlignment="2" maxInputCharacters="4" textType="TEXT_TYPE_NUMERIC" inherits="ZO_DefaultEditForBackdrop ZO_EditDefaultText">
                    <Dimensions x="50" y="31"/>
                    <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="285" offsetY="80"/>
                    <OnMouseDown>
                        self:TakeFocus()
                    </OnMouseDown>
                    <OnEnter>
                        self:LoseFocus()
                    </OnEnter>
                    <OnEscape>
                        self:LoseFocus()
                    </OnEscape>
                    <OnFocusLost>
                        GrindTimer.LevelTextBoxSubmitted(self, 0, 3600)
                    </OnFocusLost>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                    <Controls>
                        <Backdrop name="$(parent)Backdrop" inherits="ZO_DefaultBackdrop">
                            <Dimensions x="50" y="30"/>
                            <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="-5" offsetY="-2"/>
                        </Backdrop>
                    </Controls>
                </EditBox>

                <Texture name="$(parent)BottomDivider" inheritAlpha="false" hidden="true" textureFile="/esoui/art/miscellaneous/horizontaldivider.dds" tier="HIGH">
                    <Dimensions x="500" y="5"/>
                    <Anchor point="TOP" relativeTo="$(parent)" relativePoint="TOP" offsetY="125"/>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, false)
                    </OnInitialized>
                </Texture>

                <Button name="$(parent)ExtendButton" inheritAlpha="false" inherits="ZO_ButtonBehaviorClickSound">
                    <Dimensions x="25" y="25"/>
                    <Anchor point="BOTTOM" relativeTo="$(parent)" relativePoint="BOTTOM" offsetY="5"/>
                    <Textures normal="esoui/art/buttons/gamepad/gp_downarrow.dds" pressed="esoui/art/buttons/gamepad/gp_uparrow.dds"/>
                    <OnClicked>
                        GrindTimer.ExtendButtonClicked()
                    </OnClicked>
                </Button>

                <Button name="$(parent)SettingsButton" inheritAlpha="false" hidden="true" inherits="ZO_ButtonBehaviorClickSound" font="ZoFontGameShadow" text="Options">
                    <Dimensions x="65" y="25"/>
                    <Anchor point="BOTTOMLEFT" relativeTo="$(parent)" relativePoint="BOTTOMLEFT" offsetX="10" offsetY="-10"/>
                    <FontColors disabledColor="700000" mouseOverColor="FFFFFF" pressedColor="909090" normalColor="A8A8A8"/>
                    <Controls>
                        <Backdrop name="$(parent)Backdrop" inherits="ZO_DefaultBackdrop">
                            <Dimensions x="65" y="25"/>
                        </Backdrop>
                    </Controls>
                    <OnClicked>
                        GrindTimer.SettingsButtonClicked()
                    </OnClicked>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Button>

                <Button name="$(parent)ResetButton" inheritAlpha="false" hidden="true" inherits="ZO_ButtonBehaviorClickSound" font="ZoFontGameShadow" text="Reset">
                    <Dimensions x="65" y="25"/>
                    <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)" relativePoint="BOTTOMRIGHT" offsetX="-10" offsetY="-10"/>
                    <FontColors disabledColor="700000" mouseOverColor="FFFFFF" pressedColor="909090" normalColor="A8A8A8"/>
                    <Controls>
                        <Backdrop name="$(parent)Backdrop" inherits="ZO_DefaultBackdrop">
                            <Dimensions x="65" y="25"/>
                        </Backdrop>
                    </Controls>
                    <OnClicked>
                        GrindTimer.ResetButtonClicked()
                    </OnClicked>
                    <OnInitialized>
                        GrindTimer.AddControlsToTable(self, 1, true)
                    </OnInitialized>
                </Button>
                    </OnInitialized>
                </Button>
            </Controls>
        </TopLevelControl>
    </Controls>
</GuiXml>
